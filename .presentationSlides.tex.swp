\documentclass{beamer}
\usepackage{graphicx} % includegraphics command is implemented here
%\usetheme{Boadilla}


\author{Anton Saatze}
\title{Android LiveData}
\institute{University of applied Sciences Munich}
\date{22.may.2020}
\subject{Android}
\begin{document}
	\maketitle
	
	\begin{frame}
		\frametitle{Table of Contents}
		\tableofcontents
	\end{frame}
	
	\section[Motivation]{Motivation}
	\begin{frame}
		\frametitle{Motivation}
		\begin{itemize}
		\item core concept to present data
		\item clean way to hand data across the archictecture
		\item guarantee that latest data is presented in view
		\item first thing to learn, when joining a real android project team
		\end{itemize}
	\end{frame}
	
	\section[Technical Background]{Technical Background}
	\begin{frame}
		\frametitle{Technical Background}
		\begin{itemize}
		\item first thing to learn, when joining a real android project team
		\item 1/2 year internship in a android project
		\item learned android basics (Activty, Fragment, Lifecycle, Viewmodel, Views, LifeData, Databinding)
		\item my first task have been "redesign view xyz regarding to the designers wishes"
		\end{itemize}
		\end{frame}
		\begin{frame}
		\frametitle{Technical Background}
		\begin{itemize}
		\item learn how to design views with different layouts
		\item how to bind data to the view
		\item how adapter and lists work
		\item how to apply Data to a viewmodel
		\item how to publish Data by a viewmodel
		\item (Spoiler) its no magic, its LiveData
		\end{itemize}
	\end{frame}
	
	\section[Live Data]{LiveData}
	\begin{frame}
		\frametitle{LiveData}
\begin{quote}LiveData is an observable data holder class. Unlike a regular observable, LiveData is lifecycle-aware, meaning it respects the lifecycle of other app components, such as activities, fragments, or services. This awareness ensures LiveData only updates app component observers that are in an active lifecycle state\end{quote} developer.android.com \linebreak(official documentaion of android)
	\end{frame}
	
	\begin{frame}
		\frametitle{LiveData}
		\begin{quote}\textbf{LiveData} is an \textbf{observable data holder} class. Unlike a regular observable, \textbf{LiveData is lifecycle-aware}, meaning it respects the lifecycle of other app components, such as activities, fragments, or services. This awareness ensures \textbf{LiveData only updates} app component observers that are in an \textbf{active lifecycle} state\end{quote} developer.android.com \linebreak(official documentaion of android)
	\end{frame}
	
	\begin{frame}
	\frametitle{LiveData (Observer Pattern)}
	%https://en.wikipedia.org/wiki/File:W3sDesign_Observer_Design_Pattern_UML.jpg
	\includegraphics[width=1\textwidth]{observerpattern.png}
	\end{frame}

	\begin{frame}
	\frametitle{LiveData (LifeCycle Awarenes)}
	\begin{itemize}
	\item Observer almost everytime need an LifeCycle
	\item only exception when using "observeForever" method
	\item LifeCycles are provided by the Activity and/or Fragments 
	\item Observer only observe while the passed LifeCycle is (STARTED/RESUMED)
	\item Observer do not observe when the LifeCycle is PAUSED or in a dead state
	\end{itemize}
	Fazit: make sure, to have an lifecycle when you want to observe
	\end{frame}	
	
	
	\begin{frame}[fragile]
	\frametitle{LiveData (example)}
		\begin{block}{Create MutableLiveData}
		\begin{semiverbatim}
			val liveData = MutableLiveData<String>().apply\{
			\quad value = "Hello World"
			\}
		\end{semiverbatim}
		Modify MutableLiveData with operations like \textit{postValue()} or \textit{setValue()} 		(which only can be called from the main-thread)
		\end{block}
		\begin{block}{Create LiveData}
		\begin{semiverbatim}
			@Query("SELECT * FROM PERSON ORDER BY NAME")
			LiveData<List<Person>> loadAllPersons();
		\end{semiverbatim}
	\end{block}
	\end{frame}
	
	\begin{frame}[fragile]
	\frametitle{LiveData (example)}
		\begin{block}{Create LiveData using MutableLiveData}
		\begin{semiverbatim}
			private val privateLiveData = MutableLiveData<String>()\linebreak.apply\{
			\quad value = "Hello World"
			\}
			val publicLiveData : LiveData<String> = privateLiveData
			
			fun changeString(string : String)\{
				\quad privateLiveData.postValue(string)
			\}
		\end{semiverbatim}
	\end{block}
	\end{frame}
	
	\begin{frame}[fragile]
	\frametitle{LiveData (example)}
		\begin{block}{Observing LiveData with Observer object}
			\begin{semiverbatim}
			val nameObserver = Observer<String> \{ newName ->
        	\quad nameTextView.text = newName
    		\}
			currentName.observe(lifeCycleOwner, nameObserver)
		\end{semiverbatim}
	\end{block}
	\begin{block}{Observing LiveData with Lambda}
		\begin{semiverbatim}
			// not observed
			val name = repository.currentName
			// make line above observing indirectly
			val nameLetters = name.observe(lifeCycleOwner,Observer\{
			\quad it.toCharArray().asList()
			\}
		\end{semiverbatim}
	\end{block}
	\end{frame}
	
	\begin{frame}
	\frametitle{LiveData (Observing Livedata with Databinding)}
	\textbf{Fragment}
	\includegraphics[width=1\textwidth]{DataBindingInFragment.png}
	\textbf{XML}
	\includegraphics[width=1\textwidth]{DataBindingInXML.png}
	\end{frame}
	
	\begin{frame}	
	\frametitle{LiveData (Observing Livedata with Databinding)}
	\textbf{XML}
	\includegraphics[width=1\textwidth]{DataBindingInImageView.png}
	\end{frame}
	
	\begin{frame}	
	\frametitle{LiveData (Observing Livedata with Databinding)}
	\textbf{XML}
	\includegraphics[width=1\textwidth]{DataBindingInTextView.png}
	\end{frame}
	
	\section[App Structure]{General App Structure}
	\begin{frame}
		\frametitle{Overall Structure of Android Apps}
		\includegraphics[width=1\textwidth]{architecture.png}
	\end{frame}
	
	\begin{frame}
		\frametitle{Overall Structure of Android Apps}
		\includegraphics[width=1\textwidth]{architecture_observes.png}
	\end{frame}
	
	\section[My App]{Simple T-Shirt App}
	\begin{frame}
		\frametitle{T-Shirt App Fragments}
		Show the APP now
	\end{frame}
	
	\begin{frame}
		\frametitle{T-Shirt App}
		\includegraphics[width=1\textwidth]{TshirtArchitectureOverview.png}
	\end{frame}
	
	\begin{frame}
		\frametitle{T-Shirt App}
		\includegraphics[width=1\textwidth]{TShirtAppDetailView.png}
	\end{frame}
	
	\section[Summary]{Summary}
	\begin{frame}
		\frametitle{Summary}
		\begin{itemize}
		\item hints
		\item tricks
		\item sources
		\item blog posts
		\end{itemize}
	\end{frame}
	
\end{document}
